<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>竞赛Java模板【dev-160504】 - CitruXonve&#039;s another far end</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="CitruXonve&#039;s another far end"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CitruXonve&#039;s another far end"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Java Code Template By Semprathlon   部分理论知识引用自维基百科"><meta property="og:type" content="blog"><meta property="og:title" content="竞赛Java模板【dev-160504】"><meta property="og:url" content="http://yoursite.com/posts/41b311d1/"><meta property="og:site_name" content="CitruXonve&#039;s another far end"><meta property="og:description" content="Java Code Template By Semprathlon   部分理论知识引用自维基百科"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://uploads.citruxonve.net/2016/04/icpc_logo.png"><meta property="article:published_time" content="2016-04-06T10:04:23.000Z"><meta property="article:modified_time" content="2021-03-13T23:11:35.593Z"><meta property="article:author" content="Semprathlon / Simfae Dean"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://uploads.citruxonve.net/2016/04/icpc_logo.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/posts/41b311d1/"},"headline":"CitruXonve's another far end","image":["https://uploads.citruxonve.net/2016/04/icpc_logo.png"],"datePublished":"2016-04-06T10:04:23.000Z","dateModified":"2021-03-13T23:11:35.593Z","author":{"@type":"Person","name":"Semprathlon / Simfae Dean"},"description":"Java Code Template By Semprathlon   部分理论知识引用自维基百科"}</script><link rel="canonical" href="http://yoursite.com/posts/41b311d1/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">CrXon Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2016-04-06T10:04:23.000Z" title="4/6/2016, 10:04:23 AM">04/06/2016</time></span><span class="level-item">Updated&nbsp;<time dateTime="2021-03-13T23:11:35.593Z" title="3/13/2021, 11:11:35 PM">03/13/2021</time></span><span class="level-item"> Semprathlon / Simfae Dean </span><span class="level-item">an hour read (About 8037 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">竞赛Java模板【dev-160504】</h1><div class="content"><p><img src="https://uploads.citruxonve.net/2016/04/icpc_logo.png" alt="ACM-ICPC"></p>
<h1 align="center"><br>  Java Code Template By Semprathlon<br></h1>

<ul>
<li>部分理论知识引用自维基百科</li>
</ul>
<a id="more"></a>
<h1 id="Input-输入"><a href="#Input-输入" class="headerlink" title="Input 输入"></a>Input 输入</h1><p>An enhanced <code>InputReader</code> supporting keeping reading data until the end of input while the number of input cases is unknown:<br>一个加强版的<code>输入器</code> ，支持读到输入文件末尾的方式，用法类似<code>java.util.Scanner</code>但效率显著提高:</p>
<pre class="toolbar:2 wrap:true lang:java decode:true">class InputReader {
    public BufferedReader reader;
    public StringTokenizer tokenizer;

    public InputReader(InputStream stream) {
        reader = new BufferedReader(new InputStreamReader(stream), 32768);
        tokenizer = null;
    }

    public boolean hasNext() {
        return tokenizer != null && tokenizer.hasMoreTokens() || nextLine() != null;
    }

    public String nextLine() {
        String tmp = null;
        try {
            tmp = reader.readLine();
            tokenizer = new StringTokenizer(tmp);
        } catch (IOException e) {
            throw new RuntimeException(e);
        } catch (NullPointerException e) {
            return null;
        }
        return tmp;
    }

    public String next() {
        while (tokenizer == null || !tokenizer.hasMoreTokens()) {
            try {
                tokenizer = new StringTokenizer(reader.readLine());
            } catch (IOException e) {
                throw new RuntimeException(e);
            }
        }
        return tokenizer.nextToken();
    }

    public int nextInt() {
        return Integer.parseInt(next());
    }

    public long nextLong() {
        return Long.parseLong(next());
    }

    public double nextDouble() {
        return Double.parseDouble(next());
    }
}
</pre>

<p>Keeping reading data until the end of input：<br>读取数据直至文件末尾：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >import java.io.*;
import java.util.*;

public class Main {

    /**
     * @param args
     */
    public static void main(String[] args) {
        // TODO Auto-generated method stub
        InputReader in = new InputReader(System.in);
        while (in.hasNext()) {
                    // TODO ...
        }
    }

}</pre> 

<h1 id="Output-输出"><a href="#Output-输出" class="headerlink" title="Output 输出"></a>Output 输出</h1><p><code>import java.io.PrintWriter;</code></p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >PrintWriter out = new PrintWriter(System.out);
// TODO ...
out.flush(); // 更新缓冲区，使输出生效
out.close();
</pre> 

<h1 id="Data-Structure-数据结构篇"><a href="#Data-Structure-数据结构篇" class="headerlink" title="Data Structure 数据结构篇"></a>Data Structure 数据结构篇</h1><h2 id="Pair-二元组"><a href="#Pair-二元组" class="headerlink" title="Pair 二元组"></a>Pair 二元组</h2><p> <code>Pair.make_pair(TypeA left,TypeB right)</code>可构造一个二元组对象并返回，不必指定类型。<br> 比较大小时默认先比较left，若left相同则再比较right。<br> <pre class="toolbar:2 wrap:true lang:java decode:true " >class Pair&lt;TypeA extends Comparable&lt;TypeA&gt;, TypeB extends Comparable&lt;TypeB&gt;&gt; implements Comparable&lt;Pair&lt;TypeA, TypeB&gt;&gt; {<br>    TypeA left;<br>    TypeB right;</p>
<pre><code>public Pair() &#123;
&#125;

public Pair(TypeA first, TypeB second) &#123;
    left = first;
    right = second;
&#125;

public static &amp;lt;TypeA extends Comparable&amp;lt;TypeA&amp;gt;, TypeB extends Comparable&amp;lt;TypeB&amp;gt;&amp;gt; Pair&amp;lt;TypeA, TypeB&amp;gt; make_pair(
        TypeA first, TypeB second) &#123;
    return new Pair&amp;lt;TypeA, TypeB&amp;gt;(first, second);
&#125;

public String toString() &#123;
    return &quot;[&quot; + left.toString() + &quot;,&quot; + right.toString() + &quot;]&quot;;
&#125;

boolean equals(Pair&amp;lt;TypeA, TypeB&amp;gt; p) &#123;
    return this.left.equals(p.left) &amp;amp;&amp;amp; this.right.equals(p.right);
&#125;

public int compareTo(Pair&amp;lt;TypeA, TypeB&amp;gt; p) &#123;
    if (this.left.equals(p.left))
        return this.right.compareTo(p.right);
    return this.left.compareTo(p.left);
&#125;
</code></pre><p>}</pre><br>另一种比较器写法：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >
class Pair_Comp&lt;TypeA extends Comparable&lt;TypeA&gt;, TypeB extends Comparable&lt;TypeB&gt;&gt;
        implements Comparator&lt;Pair&lt;TypeA, TypeB&gt;&gt; {
    public int compare(Pair&lt;TypeA, TypeB&gt; p1, Pair&lt;TypeA, TypeB&gt; p2) {
        return p1.compareTo(p2);
    }
}</pre> 


<h2 id="Queue-队列"><a href="#Queue-队列" class="headerlink" title="Queue 队列"></a>Queue 队列</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >Queue&lt;integer&gt; que=new LinkedList&lt;integer&gt;();</pre> 

<p>用法详见SPFA等应用。</p>
<h2 id="Priority-Queue-优先队列"><a href="#Priority-Queue-优先队列" class="headerlink" title="Priority Queue 优先队列"></a>Priority Queue 优先队列</h2><ul>
<li>It is not recommended to use,for the constructor with the parameter of a comparator is supported since jdk 1.8.  </li>
</ul>
<pre class="toolbar:2 wrap:true lang:java decode:true " >Queue&lt;Integer&gt; que=new PriorityQueue&lt;Integer&gt;();</pre> 


<h2 id="Heap-堆"><a href="#Heap-堆" class="headerlink" title="Heap 堆"></a>Heap 堆</h2><p>This is a minimum heap:<br>这是一个小根堆：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class Heap {
    private int maxn;
    int[] data;
    int r;

    Heap(int size) {
        maxn=size;
        data = new int[maxn];
        r = 0;
    }

    void clear(){
        //Arrays.fill(data, 0);
        r=0;
    }

    public int size() {
        return r;
    }

    void swap(int a, int b) {
        int tmp = data[a];
        data[a] = data[b];
        data[b] = tmp;
    }

    void up(int p) {
        if (!(p &gt; 0))
            return;
        int q = p &gt;&gt; 1;
        if (data[p] &lt; data[q]) {
            swap(p, q);
            up(q);
        }
    }

    void down(int p) {
        int q;
        if ((p &lt;&lt; 1) &gt;= r)
            return;
        else if ((p &lt;&lt; 1) == r - 1) {
            q = p &lt;&lt; 1;
        } else {
q = (data[p &lt;&lt; 1] &lt; data[p &lt;&lt; 1 | 1] ? 
    p &lt;&lt; 1 : p &lt;&lt; 1 | 1);
        }
        if (data[p] &gt; data[q]) {
            swap(p, q);
            down(q);
        }
    }

    void push(int n) {
        data[r++] = n;
        up(r - 1);
    }

    int pop() {
        int res = data[0];
        swap(0, r - 1);
        r--;
        down(0);
        return res;
    }

    int top() {
        return data[0];
    }

}</pre>

<h2 id="Directional-edge-有向边"><a href="#Directional-edge-有向边" class="headerlink" title="Directional edge 有向边"></a>Directional edge 有向边</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >class Edge {
    int v, f, w, nx;

    Edge() {
    }

    Edge(int _v, int _f, int _w, int _nx) {
        modify(_v, _f, _w, _nx);
    }

    void modify(int _v, int _f, int _w, int _nx) {
        v = _v;
        f = _f;
        w = _w;
        nx = _nx;
    }
}</pre> 

<h2 id="Arc-弧"><a href="#Arc-弧" class="headerlink" title="Arc 弧"></a>Arc 弧</h2><p>适用于网络流模型中的有向边。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class Edge {
    int to, cap, flow, next;

    Edge() {
    }

    Edge(int _v, int _f, int _w, int _nx) {
        modify(_v, _f, _w, _nx);
    }

    void modify(int _v, int _f, int _w, int _nx) {
        to = _v;    cap = _f;    flow = _w;    next = _nx;
    }
};</pre> 


<h2 id="Adjacent-Table-链式前向星（邻接表）"><a href="#Adjacent-Table-链式前向星（邻接表）" class="headerlink" title="Adjacent Table 链式前向星（邻接表）"></a>Adjacent Table 链式前向星（邻接表）</h2><p>避免重复分配内存空间设计。<br><code>addEdge</code>根据具体需求修改。  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class Graph {
    int[] h;
    int maxn, maxm;
    Edge[] e;
    int num;

    Graph(int _n, int _m) {
        maxn = _n;
        maxm = _m;
        h = new int[maxn];
        e = new Edge[maxm];
        for (int i = 0; i &lt; maxm; i++)
            e[i] = new Edge();
    }

    void init() {
        Arrays.fill(h, -1);
        num = 0;
    }

    void addEdge(int u, int v, int f, int w) {
        e[num].modify(v, f, w, h[u]);
        h[u] = num++;
        e[num].modify(u, 0, -w, h[v]);
        h[v] = num++;
    }
}</pre> 

<h2 id="ST-table-ST表"><a href="#ST-table-ST表" class="headerlink" title="ST table ST表"></a>ST table ST表</h2><p>RMQ 区间最值查询（静态，离线）  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >void RMQ(){ //initializing-&gt;O(nlogn){
    for(int i = 1; i != maxm; ++i)
        for(int j = 1; j &lt;= n; ++j)
            if(j + (1 &lt;&lt; i) - 1 &lt;= n){
                maxsum[i][j] = Math.max(maxsum[i - 1][j], 
                            maxsum[i - 1][j + (1 &lt;&lt; i &gt;&gt; 1)]);
                minsum[i][j] = Math.min(minsum[i - 1][j], 
                            minsum[i - 1][j + (1 &lt;&lt; i &gt;&gt; 1)]);
                }
    }

int query(int src,int des){
        int k = (int)(Math.log(des - src + 1.0) / Math.log(2.0));
        int maxres = Math.max(maxsum[k][src], 
                          maxsum[k][des - (1 &lt;&lt; k) + 1]);
        int minres = Math.min(minsum[k][src], 
                          minsum[k][des - (1 &lt;&lt; k) + 1]);
        return maxres-minres;
    }
</pre>

<h2 id="Segment-Tree-线段树"><a href="#Segment-Tree-线段树" class="headerlink" title="Segment Tree 线段树"></a>Segment Tree 线段树</h2><p>单点更新，区间求和。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class SegTree {
    int l, r, m;
    long val;
    SegTree L, R;

    SegTree() {
    }

    SegTree(int x, int y) {
        build(x, y);
    }

    void build(int x, int y) {
        int mi = (x + y) &gt;&gt; 1;
        l = x;
        r = y;
        m = mi;
        val = 0;
        if (x &lt; y) {
            if (L == null)
                L = new SegTree(x, m);
            else
                L.build(x, m);

            if (R == null)
                R = new SegTree(m + 1, y);
            else
                R.build(m + 1, y);
        }
    }

    void up() {
        val = L.val + R.val;
    }

    void add(int x, int v) {
        if (l == r) {
            val += v;
            return;
        }
        if (x &lt;= m)
            L.add(x, v);
        else if (x &gt; m)
            R.add(x, v);
        up();
    }

    long query(int x, int y) {
        if (x &lt;= l &amp;&amp; r &lt;= y) {
            return val;
        }
        long res = 0;
        if (x &lt;= m)
            res += L.query(x, y);
        if (y &gt; m)
            res += R.query(x, y);
        return res;
    }
}</pre> 


<h2 id="Binary-Indexed-Tree-树状数组"><a href="#Binary-Indexed-Tree-树状数组" class="headerlink" title="Binary Indexed Tree 树状数组"></a>Binary Indexed Tree 树状数组</h2><p>Suppose there are n distinct integers ranging from $latex 1$ to $latex n$,and the $latex k$th largest one is required(use <code>query(k-1)</code>).<br>假设有范围在$latex [1,n]$内的$latex n$个不同整数，求第$latex k$大的数（调用<code>query(k-1)</code>）。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class BIT {
    int[] data;
    int sz;

    BIT() {
    }

    BIT(int _sz) {
        sz = _sz;
        data = new int[sz + 1];
    }

    int lowbit(int x) {
        return x & (-x);
    }

    void add(int p, int v) {
        while (p &lt;= sz) {
            data[p] += v;
            p += lowbit(p);
        }
    }

    int sum(int p) {
        int res = 0;
        while (p &gt; 0) {
            res += data[p];
            p -= lowbit(p);
        }
        return res;
    }

    int find(int p) {
        int l = 1, r = sz;
        while (l &lt; r) {
            int mid = (l + r) &gt;&gt; 1;
            if (sum(mid) &lt;= p)
                l = mid + 1;
            else
                r = mid;
        }

        return l;
    }
}</pre>

<h1 id="Graph-Theory-图论篇"><a href="#Graph-Theory-图论篇" class="headerlink" title="Graph Theory 图论篇"></a>Graph Theory 图论篇</h1><h2 id="Topological-Sorting-拓扑排序"><a href="#Topological-Sorting-拓扑排序" class="headerlink" title="Topological Sorting 拓扑排序"></a>Topological Sorting 拓扑排序</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >int[] degree;
boolean[][] arc;
Vector&lt;Integer&gt; ans;
PriorityQueue&lt;Integer&gt; que;

void Topo(int n) {
        for (int u = 1; u &lt;= n; u++)
            if (degree[u] == 0) {
                que.add(u);
            }
        while (!que.isEmpty()) {
            int u = que.poll();
            ans.add(u);
            for (int v = 1; v &lt;= n; v++) {
                if (arc[u][v]) {
                    degree[v]--;
                    if (degree[v] == 0) {
                        que.add(v);
                    }
                }
            }
        }
}</pre>

<h2 id="Hungarian-Algorithm-二分图最大匹配-匈牙利算法"><a href="#Hungarian-Algorithm-二分图最大匹配-匈牙利算法" class="headerlink" title="Hungarian Algorithm 二分图最大匹配 - 匈牙利算法"></a>Hungarian Algorithm 二分图最大匹配 - 匈牙利算法</h2><p>先初始化，再通过<code>init</code>执行清理。<br>输入左点与右点个数之和与连接左点、右点之边，求最大匹配数。  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class Hungary {
    private int n, maxn;
    private Vector&lt;Integer&gt;[] vec;
    private int[] match;
    private boolean[] vis;

    public Hungary(int _n) {
        maxn = _n;
        vec = new Vector[maxn];
        for (int i = 0; i &lt; maxn; i++)
            vec[i] = new Vector&lt;Integer&gt;();
        match = new int[maxn];
        vis = new boolean[maxn];
    }

    void init(int _n) {
        n = _n;
        for (int i = 0; i &lt; n; i++)
            vec[i].clear();

    }

    void addEdge(int u, int v) {
        vec[u].add(v);
        vec[v].add(u);
    }

    boolean dfs(int v) {
        vis[v] = true;
        for (int i = 0; i &lt; vec[v].size(); i++) {
            int u = vec[v].get(i);
            int w = match[u];
            if (w &lt; 0 || !vis[w] &amp;&amp; dfs(w)) {
                match[v] = u;
                match[u] = v;
                return true;
            }
        }
        return false;
    }

    int matching() {
        int res = 0;
        Arrays.fill(match, -1);
        for (int i = 0; i &lt; n; i++)
            if (match[i] &lt; 0) {
                Arrays.fill(vis, false);
                if (dfs(i))
                    res++;
            }
        return res;
    }
}</pre> 

<h2 id="Hopcroft-Karp-Algorithm-二分图最大匹配-HK算法"><a href="#Hopcroft-Karp-Algorithm-二分图最大匹配-HK算法" class="headerlink" title="Hopcroft-Karp Algorithm 二分图最大匹配 - HK算法"></a>Hopcroft-Karp Algorithm 二分图最大匹配 - HK算法</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >class HK {
    private int inf = 0x3fffffff;
    private int n, n1, n2, maxn;
    private Vector&lt;Integer&gt;[] vec;
    private int[] mx, my, dx, dy;
    private boolean[] vis;
    private Queue&lt;Integer&gt; que;
    private int dis;

    public HK(int _n) {
        maxn = _n;
        vec = new Vector[maxn];
        for (int i = 0; i &lt; maxn; i++)
            vec[i] = new Vector&lt;Integer&gt;();
        mx = new int[maxn];
        my = new int[maxn];
        vis = new boolean[maxn];
        que = new LinkedList&lt;Integer&gt;();
        dx = new int[maxn];
        dy = new int[maxn];
    }

    void init(int _n, int _n1, int _n2) {
        n = _n;    n1 = _n1;    n2 = _n2;
        for (int i = 0; i &lt; n; i++)
            vec[i].clear();

    }

    void addEdge(int u, int v) {
        vec[u].add(v);
        vec[v].add(u);
    }

    boolean searchpath() {
        que.clear();
        dis = inf;
        Arrays.fill(dx, -1);
        Arrays.fill(dy, -1);
        for (int i = 0; i &lt; n1; i++) {
            if (mx[i] == -1) {
                que.add(i);
                dx[i] = 0;
            }
        }
        while (!que.isEmpty()) {
            int u = que.poll();
            if (dx[u] &gt; dis)
                break;
            for (int i = 0; i &lt; vec[u].size(); i++) {
                int v = vec[u].get(i);
                if (dy[v] == -1) {
                    dy[v] = dx[u] + 1;
                    if (my[v] == -1)
                        dis = dy[v];
                    else {
                        dx[my[v]] = dy[v] + 1;
                        que.add(my[v]);
                    }
                }
            }
        }
        return dis != inf;
    }

    boolean findpath(int u) {
        for (int i = 0; i &lt; vec[u].size(); i++) {
            int v = vec[u].get(i);
            if (!vis[v] &amp;&amp; dy[v] == dx[u] + 1) {
                vis[v] = true;
                if (my[v] != -1 &amp;&amp; dy[v] == dis)
                    continue;
                if (my[v] == -1 || findpath(my[v])) {
                    my[v] = u;
                    mx[u] = v;
                    return true;
                }
            }
        }
        return false;
    }

    int maxmatch() {
        int res = 0;
        Arrays.fill(mx, -1);
        Arrays.fill(my, -1);
        while (searchpath()) {
            Arrays.fill(vis, false);
            for (int i = 0; i &lt; n1; i++)
                if (mx[i] == -1)
                    res += findpath(i) ? 1 : 0;
        }
        return res;
    }
}</pre> 


<h2 id="SPFA最短路径"><a href="#SPFA最短路径" class="headerlink" title="SPFA最短路径"></a>SPFA最短路径</h2><p>先通过构造函数初始化，再通过<code>init</code>执行清理。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class spfa {
    final int inf = 0x3fffffff;
    private int maxn, maxm, src;
    public Graph g;
    private Queue&lt;Integer&gt; que;
    private boolean[] inQue;
    public int[] dis;
    public int[] prev, pree;

    public spfa(int _n, int _m) {
        maxn = _n;
        maxm = _m;
        dis = new int[maxn];
        inQue = new boolean[maxn];
        prev = new int[maxn];
        pree = new int[maxn];
        que = new LinkedList&lt;Integer&gt;();
    }

    void init(Graph _g, int _u) {
        g = _g;
        src = _u;
    }

    void init(int _u) {
        if (g == null)
            g = new Graph(maxn, maxm);
        g.init();
        src = _u;
    }

    void addEdge(int u, int v, int f, int w) {
        g.addEdge(u, v, f, w);
    }

    void solve() {
        que.clear();
        que.add(src);
        Arrays.fill(dis, inf);
        dis[src] = 0;
        inQue[src] = true;
        while (!que.isEmpty()) {
            int u = que.poll();
            for (int i = g.h[u]; i != -1; i = g.e[i].nx) {
                if (g.e[i].f &gt; 0 &amp;&amp; dis[u] + g.e[i].w &lt; dis[g.e[i].v]) {
                    dis[g.e[i].v] = dis[u] + g.e[i].w;
                    prev[g.e[i].v] = u;
                    pree[g.e[i].v] = i;
                    if (!inQue[g.e[i].v]) {
                        inQue[g.e[i].v] = true;
                        que.add(g.e[i].v);
                    }
                }
            }
            inQue[u] = false;
        }
    }

    int get_res(int v) {
        solve();
        return dis[v];
    }
}</pre> 

<h1 id="Number-Theory-数论篇"><a href="#Number-Theory-数论篇" class="headerlink" title="Number Theory 数论篇"></a>Number Theory 数论篇</h1><h2 id="Extended-Euclid-Theorem-扩展欧几里得定理"><a href="#Extended-Euclid-Theorem-扩展欧几里得定理" class="headerlink" title="Extended Euclid Theorem 扩展欧几里得定理"></a>Extended Euclid Theorem 扩展欧几里得定理</h2><p>Suppose $latex ax+by=gcd(a,b) $,and the value of $latex x $ and of $latex y $ are required.<br>已知$latex ax+by=gcd(a,b) $，求$latex x$与$latex y$的值。<br>注意$latex x$与$latex y$中很可能有一个是负整数。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long x,y;
void extgcd(long a, long b) {
        if (b == 0L) {
            x = 1L;
            y = 0L;
            return;
        }
        extgcd(b, a % b);
        long t = x;
        x = y;
        y = t - a / b * y;
}
</pre>

<h2 id="Modular-multiplicative-inverse-模逆元"><a href="#Modular-multiplicative-inverse-模逆元" class="headerlink" title="Modular multiplicative inverse 模逆元"></a>Modular multiplicative inverse 模逆元</h2><p>$latex a^{-1} \equiv b \pmod{n},a \cdot a^{-1} \equiv 1 $.<br>The modular multiplicative inverse of $latex a $ modulo $latex m $ can be found with the extended Euclidean algorithm.<br>设<code>exdgcd(a,n)</code>为扩展欧几里得算法的函数，则可得到$latex ax+ny=gcd(a,n)$.<br>若$latex g=1$，则该模逆元存在，根据结果$latex ax+ny=1$.<br>在$latex \mod{n}$之下，$latex ax+ny \equiv ax \equiv 1 $，根据模逆元的定义，此时$ x$即为$ a$关于模$ n$的其中一个模逆元。<br>事实上，$latex x+kn(k \in \mathbb{Z}) $都是$latex a$关于模$latex n$的模逆元，这里取最小的正整数解$latex x\mod{n} (x \lt n) $。<br>若$latex g\ne 1$，则该模逆元不存在。  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long cal_inv(long n, long mod) {
        extgcd(n, mod);
        return x &lt; 0L ? (x + mod) % mod : x % mod;
}</pre>

<p>According to Euler’s theorem, if $latex a$ is coprime to $latex m$, that is, $latex gcd(a, m) = 1$, then $latex a^φ(m)≡1\pmod{m}$,where $latex φ(m)$ is Euler’s totient function.<br>$latex a^{φ(m)-1}≡a^{-1}\pmod{m}$.<br>In the special case when $latex m$ is a prime, the modular inverse is given by the below equation as: $latex a^{-1}≡a^{m-2}\pmod{m}$.<br>欧拉函数求单个逆元：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long cal_inv(long n, long mod) {
        return pow_mod(n, phi[mod] - 1, mod);
}</pre>

<p>通过递推的方式，在线性时间复杂度内求出若干个逆元：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >void cal_inv(int maxn, long mod) {
        inv[1] = 1;
        for (int i = 2; i &lt; maxn; i++)
            inv[i] = (mod - mod / i) * inv[(int) (mod % i)] % mod;
}</pre>

<h2 id="Quick-power-and-modulo-快速幂取模"><a href="#Quick-power-and-modulo-快速幂取模" class="headerlink" title="Quick power and modulo 快速幂取模"></a>Quick power and modulo 快速幂取模</h2><p>To calculate $latex n^m\%mod $:<br>计算$latex n^m\%mod $：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long pow_mod(long n, long m, long mod) {
        long res = 1L;
        n %= mod;
        while (m &gt; 0L) {
            if ((m & 1L) &gt; 0L)
                res = res * n % mod;
            n = n * n % mod;
            m &gt;&gt;= 1;
        }
        return res;
}</pre>

<h2 id="Multiply-and-modulo-乘法取模"><a href="#Multiply-and-modulo-乘法取模" class="headerlink" title="Multiply and modulo 乘法取模"></a>Multiply and modulo 乘法取模</h2><p>To calculate $latex nm\%mod $:<br>在$ n $和$ m $的值都较大，直接相乘会溢出的情况下，计算$latex nm\%mod $：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long mul_mod(long n, long m, long mod) {
        long ans = 0L;
        n %= mod;
        while (m &gt; 0L) {
            if ((m & 1L) &gt; 0L)
                ans = (ans + n) % mod;
            m &gt;&gt;= 1;
            n = (n + n) % mod;
        }
        return ans;
}</pre>

<h2 id="Division-and-modulo-除法取模"><a href="#Division-and-modulo-除法取模" class="headerlink" title="Division and modulo 除法取模"></a>Division and modulo 除法取模</h2><p>To calculate $latex n/m\%mod $ correctly ($latex mod$ is a prime number thus $latex φ(mod)=mod-1 $).<br>利用欧拉函数计算$latex n/m\%mod $（当$latex mod$是一个质数时有$latex φ(mod)=mod-1 $）：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long div_mod(long n, long m, long mod) {
        return n * pow_mod(m, mod - 2, mod) % mod;
        // return n * pow_mod(m, phi(mod) - 1, mod) % mod;
}</pre>

<p>In other words,use modular multiplicative inverse.<br>或者直接使用模逆元：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long div_mod(long n, long m, long mod) {
        return n * inv[(int) m] % mod;
}</pre>

<h2 id="Factorial-and-modulo-阶乘取模"><a href="#Factorial-and-modulo-阶乘取模" class="headerlink" title="Factorial and modulo 阶乘取模"></a>Factorial and modulo 阶乘取模</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >void Get_Fac(long n, long mod) {
        fac[0] = 1;
        for (int i = 1; i &lt;= n; i++) {
            fac[i] = fac[i - 1] * i;
            fac[i] %= mod;
        }
}</pre>

<h2 id="Prime-filtering-linear-线性筛质数"><a href="#Prime-filtering-linear-线性筛质数" class="headerlink" title="Prime filtering (linear) 线性筛质数"></a>Prime filtering (linear) 线性筛质数</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >int[] pri,fstp;
    void filter_prime(){
        pri=new int[maxn];
        fstp=new int[maxn];
        for(int i=2;i&lt;maxn;i++){
            if (fstp[i]==0){
                pri[++pri[0]]=i;
            }
            for(int j=1;j&lt;=pri[0]&&i*pri[j]&lt;maxn;j++){
                int k=i*pri[j];
                fstp[k]=pri[j];
            }
        }
    }</pre>

<h2 id="Calculating-Euler-function-latex-φ-n-求欧拉函数值"><a href="#Calculating-Euler-function-latex-φ-n-求欧拉函数值" class="headerlink" title="Calculating Euler function $latex φ(n) $ 求欧拉函数值"></a>Calculating Euler function $latex φ(n) $ 求欧拉函数值</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >int[] pri,phi,fstp;
    void cal_euler(){
        pri=new int[maxn];
        fstp=new int[maxn];
        phi=new int[maxn];
        phi[1]=1;
        for(int i=2;i&lt;maxn;i++){
            if (fstp[i]==0){
                pri[++pri[0]]=i;
                phi[i]=i-1;
            }
            for(int j=1;j&lt;=pri[0]&&i*pri[j]&lt;maxn;j++){
                int k=i*pri[j];
                fstp[k]=pri[j];
                if (i%pri[j]==0){
                    phi[k]=phi[i]*pri[j];
                    break;
                }
                else{
                    phi[k]=phi[i]*(pri[j]-1);
                }
            }
        }
    }</pre>

<h2 id="Calculating-Mobius-function-latex-μ-n-求莫比乌斯函数值"><a href="#Calculating-Mobius-function-latex-μ-n-求莫比乌斯函数值" class="headerlink" title="Calculating Möbius function $latex μ(n) $ 求莫比乌斯函数值"></a>Calculating Möbius function $latex μ(n) $ 求莫比乌斯函数值</h2><p>莫比乌斯函数$ μ(d) $的定义如下：  </p>
<ul>
<li>若$ d=1 $，那么$ μ(d)=1 $；  </li>
<li>若$ d=p_1p_2…p_k $($ p_1…p_k $均为互异质数)，那么$ μ(d)=(−1)^k $；  </li>
<li>其他情况下，$ μ(d)=0 $.</li>
</ul>
<pre class="toolbar:2 wrap:true lang:java decode:true " >int[] pri,fstp,miu;
    void cal_euler(){
        pri=new int[maxn];
        fstp=new int[maxn];
        miu=new int[maxn];
        miu[1]=1;
        for(int i=2;i&lt;maxn;i++){
            if (fstp[i]==0){
                pri[++pri[0]]=i;
                miu[i]=-1;
            }
            for(int j=1;j&lt;=pri[0]&&i*pri[j]&lt;maxn;j++){
                int k=i*pri[j];
                fstp[k]=pri[j];
                if (i%pri[j]==0){
                    miu[k]=0;
                    break;
                }
                else{
                    miu[k]=-miu[i];
                }
            }
        }
    }</pre>

<h2 id="Integer-Prime-Factorization-分解质因数"><a href="#Integer-Prime-Factorization-分解质因数" class="headerlink" title="Integer Prime Factorization 分解质因数"></a>Integer Prime Factorization 分解质因数</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >Vector&lt;Integer&gt; get_prime_factor(int n){
        Vector&lt;Integer&gt; res=new Vector&lt;Integer&gt;();
        res.clear();
        for(int i=2;i*i&lt;=n;i++)
            if (n%i==0){
                res.add(i);
                while(n%i==0)
                    n/=i;
            }
        if (n&gt;1) res.add(n);
        return res;
}</pre> 


<h2 id="Quick-Greatest-Common-Divisor-快速求最大公约数"><a href="#Quick-Greatest-Common-Divisor-快速求最大公约数" class="headerlink" title="Quick Greatest Common Divisor 快速求最大公约数"></a>Quick Greatest Common Divisor 快速求最大公约数</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >int kgcd(int a, int b) {
        if (a == 0)
            return b;
        if (b == 0)
            return a;
        if ((a & 1) == 0 && (b & 1) == 0)
            return kgcd(a &gt;&gt; 1, b &gt;&gt; 1) &lt;&lt; 1;
        else if ((b & 1) == 0)
            return kgcd(a, b &gt;&gt; 1);
        else if ((a & 1) == 0)
            return kgcd(a &gt;&gt; 1, b);
        else
            return kgcd(Math.abs(a - b), Math.min(a, b));
}</pre>

<h2 id="Chinese-Remainer-Theorem-中国剩余定理"><a href="#Chinese-Remainer-Theorem-中国剩余定理" class="headerlink" title="Chinese Remainer Theorem 中国剩余定理"></a>Chinese Remainer Theorem 中国剩余定理</h2><p>Resolving $latex \begin{cases} x ≡a_1 \pmod{m_1}, \newline x ≡a_2 \pmod{m_2}, \newline …, \newline x ≡a_n \pmod{m_n}. \end{cases} $.<br>解同余方程组$latex \begin{cases} x ≡a_1 \pmod{m_1}, \newline x ≡a_2 \pmod{m_2}, \newline …, \newline x ≡a_n \pmod{m_n}. \end{cases} $。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long CRT(long n, long[] a, long[] m) {
        long pro = 1L, res = 0L;
        for (int i = 0; i &lt; n; i++)
            pro *= m[i];
        for (int i = 0; i &lt; n; i++) {
            long w = pro / m[i];
            extgcd(m[i], w);
            res = (res + mul_mod(y, mul_mod(w, a[i], pro), pro)) % pro;
        }
        return (res + pro) % pro;
}</pre>

<h1 id="Combinatorial-Mathematics-组合数学篇"><a href="#Combinatorial-Mathematics-组合数学篇" class="headerlink" title="Combinatorial Mathematics 组合数学篇"></a>Combinatorial Mathematics 组合数学篇</h1><h2 id="Combination-Calculation-1-组合数计算1"><a href="#Combination-Calculation-1-组合数计算1" class="headerlink" title="Combination Calculation #1 组合数计算1"></a>Combination Calculation #1 组合数计算1</h2><p>$latex C_n^m=C_{n-1}^m+C_{n-1}^{m-1}$.</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double[][] c;
void init(){
        c=new double[maxn][maxn];
        c[0][0]=1;
        for(int i=1;i&lt;maxn;i++){
            c[i][0]=c[i][i]=1;
            for(int j=1;j&lt;i;j++)
                c[i][j]=c[i-1][j]+c[i-1][j-1];
        }
}</pre>

<h2 id="Combination-Calculation-2-组合数计算2"><a href="#Combination-Calculation-2-组合数计算2" class="headerlink" title="Combination Calculation #2 组合数计算2"></a>Combination Calculation #2 组合数计算2</h2><p>It is guaranteed that $latex n≥m$,but $latex n!$ should be computed in advance.<br>在$latex n≥m$且$latex n!$已求出的前提下，单个计算$latex C_n^m$：</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long C(long n, long m, long mod) {
        int a = (int) (n % mod), b = (int) (m % mod);
        return div_mod(fac[a], mul_mod(fac[a - b], fac[b], mod), mod);
}</pre>

<h2 id="Lucas-Theorem-卢卡斯定理"><a href="#Lucas-Theorem-卢卡斯定理" class="headerlink" title="Lucas Theorem 卢卡斯定理"></a>Lucas Theorem 卢卡斯定理</h2><p><code>C(n, m, mod)</code> refers to $latex C_n^m\%mod $.<br><code>C(n, m, mod)</code>表示$latex C_n^m\%mod $。</p>
<p>如果有<br>$ n = a_k p^k + a_{k-1} p^{k-1} + … + a_1 p + a_0 $,<br>$ m = b_k p^k + b_{k-1} p^{k-1} + … + b_1 p + b_0 $,<br>则$ C_n^m = \prod_{i=0}^k C_{a_i}^{b_i}\%p $.  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long Lucas(long n, long m, long mod) {
        long ret = 1L;
        while (n &gt; 0L && m &gt; 0L) {
            if (n % mod &lt; m % mod)
                return 0L;
            ret = mul_mod(ret, C(n, m, mod), mod);
            ret %= mod;
            n /= mod;
            m /= mod;
        }
        return ret;
}</pre>

<h2 id="Catalan-number-卡塔兰数"><a href="#Catalan-number-卡塔兰数" class="headerlink" title="Catalan number 卡塔兰数"></a>Catalan number 卡塔兰数</h2><p>$latex C_n = {2n\choose n} - {2n\choose n+1} = {1\over n+1}{2n\choose n} \quad\text{ for }n\ge 0$;<br>The Catalan numbers satisfy the recurrence relation $latex C_0 = 1 \quad \mbox{and} \quad C_{n+1}=\sum_{i=0}^{n}C_i\,C_{n-i}\quad\text{for }n\ge 0$;<br>moreover,$latex C_n= \frac 1{n+1} \sum_{i=0}^n {n \choose i}^2$.<br>Asymptotically, the Catalan numbers grow as $latex C_n \sim \frac{4^n}{n^{3/2}\sqrt{\pi}}$.<br>组合数学中有非常多的组合结构可以用卡塔兰数来计数。</p>
<ul>
<li>$latex C_n$表示长度2n的dyck word的个数。Dyck word是一个有n个X和n个Y组成的字串，且所有的前缀字串皆满足X的个数大于等于Y的个数。以下为长度为6的dyck words:XXXYYY XYXXYY XYXYXY XXYYXY XXYXYY </li>
<li>将上例的X换成左括号，Y换成右括号，$latex C_n$表示所有包含n组括号的合法运算式的个数：((())) ()(()) ()()() (())() (()()) </li>
<li>$latex C_n$表示有n个节点组成不同构二叉树的方案数。 </li>
<li>$latex C_n$表示有2n+1个节点组成不同构满二叉树（full binary tree）的方案数。 </li>
</ul>
<blockquote>
<p>证明：<br>令1表示进栈，0表示出栈，则可转化为求一个2n位、含n个1、n个0的二进制数，满足从左往右扫描到任意一位时，经过的0数不多于1数。显然含n个1、n个0的2n位二进制数共有$latex {2n \choose n}$个，下面考虑不满足要求的数目。<br>考虑一个含n个1、n个0的2n位二进制数，扫描到第2m+1位上时有m+1个0和m个1（容易证明一定存在这样的情况），则后面的0-1排列中必有n-m个1和n-m-1个0。将2m+2及其以后的部分0变成1、1变成0，则对应一个n+1个0和n-1个1的二进制数。反之亦然（相似的思路证明两者一一对应）。<br>从而$latex C_n = {2n \choose n} - {2n \choose n + 1} = \frac{1}{n+1}{2n \choose n}$。证毕。</p>
</blockquote>
<ul>
<li>$latex C_n$表示所有在n × n格点中不越过对角线的单调路径的个数。一个单调路径从格点左下角出发，在格点右上角结束，每一步均为向上或向右。计算这种路径的个数等价于计算Dyck word的个数：X代表“向右”，Y代表“向上”。</li>
<li>$latex C_n$表示通过连结顶点而将n + 2边的凸多边形分成三角形的方法个数。 </li>
<li>$latex C_n$表示对{1, …, n}依序进出栈的置换个数。一个置换w是依序进出栈的当S(w) = (1, …, n),其中S（w）递归定义如下：令w = unv，其中n为w的最大元素，u和v为更短的数列；再令S(w) = S(u)S(v)n，其中S为所有含一个元素的数列的单位元。</li>
<li>$latex C_n$表示集合{1, …, n}的不交叉划分的个数.那么, Cn永远不大于第n项贝尔数. Cn也表示集合{1, …, 2n}的不交叉划分的个数，其中每个段落的长度为2。</li>
<li>$latex C_n$表示用n个长方形填充一个高度为n的阶梯状图形的方法个数。</li>
<li>$latex C_n$表示表为2×n的矩阵的标准杨氏矩阵的数量。 也就是说，它是数字 1, 2, …, 2n 被放置在一个2×n的矩形中并保证每行每列的数字升序排列的方案数。同样的，该式可由勾长公式的一个特殊情形推导得出。 </li>
</ul>
<p>本例中使用递推公式$latex C_1=1,C_n=\frac{(4n-2)}{(n+1)} \cdot C_{n-1}$;</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >long C[];
void get_Catalan(int maxn) {
        C[1] = 1;
        for (int i = 2; i &lt; maxn - 1; i++) {
            C[i] = C[i - 1] * ((i &lt;&lt; 2) - 2) % mod;
            C[i] = div_mod(C[i], i + 1, mod);
        }
}</pre>

<h2 id="Stirling-numbers-of-the-1st-kind-第一类斯特灵数"><a href="#Stirling-numbers-of-the-1st-kind-第一类斯特灵数" class="headerlink" title="Stirling numbers of the 1st kind 第一类斯特灵数"></a>Stirling numbers of the 1st kind 第一类斯特灵数</h2><p>The Stirling numbers of the first kind are the coefficients in the expansion $ x_{n} = \sum_{k=0}^n s(n,k) x^k $.<br>where $ x_{n} $ (a Pochhammer symbol) denotes the falling factorial, $ x_{n}=x(x-1)(x-2)\cdots(x-n+1) $.<br>第一类Stirling数是有正负的，其绝对值是n个元素的项目分作k个环排列的方法数目。</p>
<ul>
<li><p>给定$ s(n,0)=0 $,$ s(1,1)=1 $，有递归关系$ s(n,k)=s(n-1,k-1) + (n-1) s(n-1,k) $.  </p>
<p>递推关系的说明：考虑第$ n $个物品，$ n $可以单独构成一个非空循环排列，这样前$ n-1 $种物品构成$ k-1 $个非空循环排列，有$ s(n-1,k-1) $种方法；也可以前$ n-1 $种物品构成k个非空循环排列，而第$ n $个物品插入第$ i $个物品的左边，这有$ (n-1)*s(n-1,k) $种方法。  </p>
</li>
</ul>
<h2 id="Stirling-numbers-of-the-2nd-kind-第二类斯特灵数"><a href="#Stirling-numbers-of-the-2nd-kind-第二类斯特灵数" class="headerlink" title="Stirling numbers of the 2nd kind 第二类斯特灵数"></a>Stirling numbers of the 2nd kind 第二类斯特灵数</h2><p>第二类Stirling数是n个元素的集定义k个等价类的方法数目。  </p>
<ul>
<li><p>给定$ S(n,n)=S(n,1)=1 $，有递归关系$ S(n,k) = S(n-1,k-1) + k S(n-1,k) $  </p>
<p>递推关系的说明：考虑第n个物品，n可以单独构成一个非空集合，此时前n-1个物品构成k-1个非空的不可辨别的集合，有$ S(n-1,k-1) $种方法；也可以前n-1种物品构成k个非空的不可辨别的集合，第n个物品放入任意一个中，这样有$ k*S(n-1,k) $种方法。  </p>
</li>
<li><p>$ S(n,n-1)=C(n,2)=n(n-1)/2 $  </p>
</li>
<li>$ S(n,2)=2^{n-1} - 1 $  </li>
<li>$ S(n,k) =\frac{1}{k!}\sum_{j=1}^{k}(-1)^{k-j} C(k,j) j^n $<br>$ C(k,j) $是二项式系数。  </li>
</ul>
<p>#2-dimensional Computational Geometry 平面计算几何篇<br><code>double pi = Math.acos(-1.0);</code><br><code>double eps = 1e-3;</code></p>
<h2 id="Double-Comparing-实数的比较"><a href="#Double-Comparing-实数的比较" class="headerlink" title="Double Comparing 实数的比较"></a>Double Comparing 实数的比较</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >int dcmp(double d) {
        return (d &gt; eps ? 1 : 0) - (d &lt; -eps ? 1 : 0);
}</pre> 

<h2 id="Degree-Radian-角度-弧度互化"><a href="#Degree-Radian-角度-弧度互化" class="headerlink" title="Degree/Radian 角度/弧度互化"></a>Degree/Radian 角度/弧度互化</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >
    double Rad2Deg(double rad) {
        return rad * 180.0 / pi;
    }

    double Deg2Rad(double deg) {
        return deg * pi / 180.0;
    }
</pre>

<h2 id="Point-点"><a href="#Point-点" class="headerlink" title="Point 点"></a>Point 点</h2><h3 id="类定义"><a href="#类定义" class="headerlink" title="类定义"></a>类定义</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >class Point {
    double x, y;

    Point() {
    }

    Point(double _x, double _y) {
        x = _x;
        y = _y;
    }

    Point(Point p) {
        this(p.x, p.y);
    }

    static class Comp implements Comparator&lt;Point&gt; {
        Point prep;

        Comp(Point p) {
            prep = p;
        }

        public int compare(Point a, Point b) {
            double tmp = Point.cross(prep, a, b);
            if (dcmp(tmp) == 0)
                return -dcmp(dist(a, prep) - dist(b, prep));
            return -dcmp(tmp);
        }
}</pre>

<h3 id="函数计算"><a href="#函数计算" class="headerlink" title="函数计算"></a>函数计算</h3><ul>
<li><p>判断相等</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >public boolean equals(Point p) {
      return dcmp(Math.sqrt((x - p.x) * (x - p.x) + (y - p.y) * (y - p.y))) == 0;
}</pre>
</li>
<li><p>求两点间的欧氏距离</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double dist(Point a, Point b) {
      return Math.sqrt((a.x - b.x) * (a.x - b.x) + (a.y - b.y) * (a.y - b.y));
}</pre>
</li>
<li><p>两点取中点</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >Point mid(Point a, Point b) {
      return new Point((a.x + b.x) / 2.0, (a.y + b.y) / 2.0);
}</pre>

</li>
</ul>
<h2 id="Vector-向量"><a href="#Vector-向量" class="headerlink" title="Vector 向量"></a>Vector 向量</h2><h3 id="类定义-1"><a href="#类定义-1" class="headerlink" title="类定义"></a>类定义</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >class Vector extends Point {
    Vector() {
    }

    Vector(double _x, double _y) {
        x = _x;
        y = _y;
    }

    Vector(Point a, Point b) {
        this(b.x - a.x, b.y - a.y);
    }

    Vector(Point p) {
        this(p.x, p.y);
}}</pre>

<h3 id="基本运算"><a href="#基本运算" class="headerlink" title="基本运算"></a>基本运算</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >
    Point add(Point r) {
        return new Point(x + r.x, y + r.y);
    }

    Point sub(Point r) {
        return new Point(x - r.x, y - r.y);
    }

    Point mul(double r) {
        return new Point(x * r, y * r);
    }

    Point move(double dx, double dy) {
        return new Point(x + dx, y + dy);
    }

    Point rotate(double a) {
        return new Point(x * Math.cos(a) - y * Math.sin(a), x * Math.sin(a) + y * Math.cos(a));
    }

    Point rotate(double dx, double dy, double a) {
        return this.move(-dx, -dy).rotate(a).move(dx, dy);
    }

    Vector normal() {
        double len = this.length();
        return new Vector(-y / len, x / len);
    }
</pre>

<h3 id="函数计算-1"><a href="#函数计算-1" class="headerlink" title="函数计算"></a>函数计算</h3><ul>
<li><p>求点积</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double dot(Vector r) {
      return x * r.x + y * r.y;
}</pre>
</li>
<li><p>求叉积</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double cross(Vector r) {
      return x * r.y - y * r.x;
}</pre>
</li>
<li><p>求向量的模</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double length() {
      return Math.sqrt(this.dot(this));
}</pre>
</li>
<li><p>求不共线的三点所成角$ \angle AOB$:  </p>
  <pre class="toolbar:2 wrap:true lang:java decode:true " >double angle(Point o, Point a, Point b) {
      return angle(new Vector(o, a), new Vector(o, b));
}</pre>

  <pre class="toolbar:2 wrap:true lang:java decode:true " >double angle(Vector a, Vector b) {
      return Math.acos(dot(a, b) / a.length() / b.length());
}</pre>

  <pre class="toolbar:2 wrap:true lang:java decode:true " >double angle(Point a, Point b) {
      return angle(new Vector(a), new Vector(b));
}</pre>


</li>
</ul>
<h2 id="Line-直线-线段"><a href="#Line-直线-线段" class="headerlink" title="Line 直线/线段"></a>Line 直线/线段</h2><h3 id="类定义-2"><a href="#类定义-2" class="headerlink" title="类定义"></a>类定义</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >class Line extends Vector {
    Point s, e;

    Line() {
    }

    Line(Point _s, Point _e) {
        s = _s;
        e = _e;
    }

    Line(double x1, double y1, double x2, double y2) {
        this(new Point(x1, y1), new Point(x2, y2));
    }

    Vector vector() {
        return new Vector(s, e);
    }

}</pre>

<h3 id="关系判断"><a href="#关系判断" class="headerlink" title="关系判断"></a>关系判断</h3><ul>
<li><p>判断直线相交</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >
boolean isLineInter(Line l1, Line l2) {
      if (l1.s.equals(l1.e) || l2.s.equals(l2.e))
          return false;
      return dcmp(cross(l2.s, l1.s, l1.e) * cross(l2.e, l1.s, l1.e)) &lt;= 0;
  }
</pre>
</li>
<li><p>判断线段相交</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >
  boolean isSegInter(Point s1, Point e1, Point s2, Point e2) {
      if (dcmp(Math.min(s1.x, e1.x) - Math.max(s2.x, e2.x)) &lt;= 0
              && dcmp(Math.min(s1.y, e1.y) - Math.max(s2.y, e2.y)) &lt;= 0
              && dcmp(Math.min(s2.x, e2.x) - Math.max(s1.x, e1.x)) &lt;= 0
              && dcmp(Math.min(s2.y, e2.y) - Math.max(s1.y, e1.y)) &lt;= 0
              && dcmp(Vector.cross(s2, e2, s1) * Vector.cross(s2, e2, e1)) &lt;= 0
              && dcmp(Vector.cross(s1, e1, s2) * Vector.cross(s1, e1, e2)) &lt;= 0)
          return true;
      return false;
  }

  boolean isSegInter2(Point p1, Point p2, Point p3, Point p4) // vigorous intersection
  {
      return dcmp(cross(p3, p4, p1)) * dcmp(cross(p3, p4, p2)) == -1;
  }

  boolean isSegInter(Line l1, Line l2) {
      return isSegInter(l1.s, l1.e, l2.s, l2.e);
  }

  boolean isSegInter2(Line l1, Line l2) {
      return isSegInter2(l1.s, l1.e, l2.s, l2.e);
  }
</pre>

</li>
</ul>
<h3 id="函数计算-2"><a href="#函数计算-2" class="headerlink" title="函数计算"></a>函数计算</h3><ul>
<li><p>求两直线交点</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >
  Point GetLineIntersection(Point p, Vector v, Point q, Vector w) {
      Vector u = new Vector(p.sub(q));
      double t = cross(w, u) / cross(v, w);
      return p.add(v.mul(t));
  }

  Point GetLineIntersection(Point p, Point v, Point q, Point w) {
      return GetLineIntersection(p, new Vector(v), q, new Vector(w));
  }
</pre>

</li>
</ul>
<h2 id="Polygon-多边形"><a href="#Polygon-多边形" class="headerlink" title="Polygon 多边形"></a>Polygon 多边形</h2><h3 id="类定义-3"><a href="#类定义-3" class="headerlink" title="类定义"></a>类定义</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >class Polygon extends Vector {
    int num;
    Point[] v;

    Polygon() {
    }

    Polygon(int n) {
        num = n;
        v = new Point[num + 2];
}</pre> 

<h3 id="关系判断-1"><a href="#关系判断-1" class="headerlink" title="关系判断"></a>关系判断</h3><ul>
<li><p>凸包判断</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >boolean IsConvexBag() {
      int direction = 0;// 1:counter-clockwise -1:clockwise
      for (int i = 0; i &lt; num; i++) {
          int tmp = dcmp(cross(v[i], v[i + 1], v[i + 1], v[i + 2]));

          if (direction == 0) // prevent co-line
              direction = tmp;

          if (direction * tmp &lt; 0) // as Vec is a ConvexBag,direction*temp&gt;=0 no matter how direction rotates
              return false;
      }
      return true;
  }
</pre> 


</li>
</ul>
<h2 id="Round-圆"><a href="#Round-圆" class="headerlink" title="Round 圆"></a>Round 圆</h2><h3 id="类定义-4"><a href="#类定义-4" class="headerlink" title="类定义"></a>类定义</h3><pre class="toolbar:2 wrap:true lang:java decode:true " >class Round extends Vector {
    double r;
    Point o;

    Round(double _r, double _x, double _y) {
        r = _r;
        x = _x;
        y = _y;
        o = new Point(x, y);
    }

    double Area() {
        return pi * r * r;
    }
}</pre>

<h3 id="函数计算-3"><a href="#函数计算-3" class="headerlink" title="函数计算"></a>函数计算</h3><ul>
<li><p>求两圆面积交</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >double CommonArea(Round A, Round B) {
      double area = 0.0;
      Round M = dcmp(A.r - B.r) &gt; 0 ? A : B;
      Round N = dcmp(A.r - B.r) &gt; 0 ? B : A;
      double D = dist(M.o, N.o);
      if (dcmp(M.r + N.r - D) &gt; 0 && dcmp(M.r - N.r - D) &lt; 0) {
          double cosM = (M.r * M.r + D * D - N.r * N.r) / (2.0 * M.r * D);
          double cosN = (N.r * N.r + D * D - M.r * M.r) / (2.0 * N.r * D);
          double alpha = 2.0 * Math.acos(cosM);
          double beta = 2.0 * Math.acos(cosN);

          double TM = 0.5 * M.r * M.r * Math.sin(alpha);
          double TN = 0.5 * N.r * N.r * Math.sin(beta);
          double FM = 0.5 * alpha / pi * M.Area();
          double FN = 0.5 * beta / pi * N.Area();
          area = FM + FN - TM - TN;
      } else if (dcmp(M.r - N.r - D) &gt;= 0) {
          area = N.Area();
      }
      return area;
}</pre></li>
<li>求三角形与圆面积交<pre class="toolbar:2 wrap:true lang:java decode:true " >double TriAngleCircleInsection(Round C, Point A, Point B) {
      Vector OA = new Vector(A.sub(C.o)), OB = new Vector(B.sub(C.o));
      Vector BA = new Vector(A.sub(B)), BC = new Vector(C.o.sub(B));
      Vector AB = new Vector(B.sub(A)), AC = new Vector(C.o.sub(A));
      double DOA = OA.length(), DOB = OB.length(), DAB = AB.length(), r = C.r;
      if (dcmp(cross(OA, OB)) == 0)
          return 0;
      if (dcmp(DOA - C.r) &lt; 0 && dcmp(DOB - C.r) &lt; 0)
          return cross(OA, OB) * 0.5;
      else if (dcmp(DOB - r) &lt; 0 && dcmp(DOA - r) &gt;= 0) {
          double x = (dot(BA, BC) + Math.sqrt(r * r * DAB * DAB - cross(BA, BC) * cross(BA, BC))) / DAB;
          double TS = cross(OA, OB) * 0.5;
          return Math.asin(TS * (1 - x / DAB) * 2 / r / DOA) * r * r * 0.5 + TS * x / DAB;
      } else if (dcmp(DOB - r) &gt;= 0 && dcmp(DOA - r) &lt; 0) {
          double y = (dot(AB, AC) + Math.sqrt(r * r * DAB * DAB - cross(AB, AC) * cross(AB, AC))) / DAB;
          double TS = cross(OA, OB) * 0.5;
          return Math.asin(TS * (1 - y / DAB) * 2 / r / DOB) * r * r * 0.5 + TS * y / DAB;
      } else if (dcmp(Math.abs(cross(OA, OB)) - r * DAB) &gt;= 0 || dcmp(dot(AB, AC)) &lt;= 0 || dcmp(dot(BA, BC)) &lt;= 0) {
          if (dcmp(dot(OA, OB)) &lt; 0) {
              if (dcmp(cross(OA, OB)) &lt; 0)
                  return (-Math.acos(-1.0) - Math.asin(cross(OA, OB) / DOA / DOB)) * r * r * 0.5;
              else
                  return (Math.acos(-1.0) - Math.asin(cross(OA, OB) / DOA / DOB)) * r * r * 0.5;
          } else
              return Math.asin(cross(OA, OB) / DOA / DOB) * r * r * 0.5;
      } else {
          double x = (dot(BA, BC) + Math.sqrt(r * r * DAB * DAB - cross(BA, BC) * cross(BA, BC))) / DAB;
          double y = (dot(AB, AC) + Math.sqrt(r * r * DAB * DAB - cross(AB, AC) * cross(AB, AC))) / DAB;
          double TS = cross(OA, OB) * 0.5;
          return (Math.asin(TS * (1 - x / DAB) * 2 / r / DOA) + Math.asin(TS * (1 - y / DAB) * 2 / r / DOB)) * r * r
                  * 0.5 + TS * ((x + y) / DAB - 1);
      }
}</pre>

</li>
</ul>
<h3 id="Judge-关系判断"><a href="#Judge-关系判断" class="headerlink" title="Judge 关系判断"></a>Judge 关系判断</h3><ul>
<li><p>判断圆是否在多边形内部</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >boolean IsInPoly(Polygon pl) {
      double CircleAngle = 0.0; // rotation angle
      for (int i = 1; i &lt;= pl.num; i++) // ignore the repetitive edges
          if (dcmp(cross(o, pl.v[i], o, pl.v[i + 1])) &gt;= 0)
              CircleAngle += angle(o, pl.v[i], pl.v[i + 1]);
          else
              CircleAngle -= angle(o, pl.v[i], pl.v[i + 1]);

      if (dcmp(CircleAngle) == 0) // CircleAngle=0, Peg outside
          return false;
      else if (dcmp(CircleAngle - pi) == 0 || dcmp(CircleAngle + pi) == 0) // CircleAngle=180,
                                                                              // Peg inside(excluding vertices)
      {
          if (dcmp(r) == 0)
              return true;
      } else if (dcmp(CircleAngle - 2 * pi) == 0 || dcmp(CircleAngle + 2 * pi) == 0) // CircleAngle=360, Peg inside
          return true;
      else // CircleAngle in range (0,360)， Peg on the vertex
      {
          if (dcmp(r) == 0)
              return true;
      }
      return false;
  }
</pre> 
</li>
<li><p>判断圆是否包含多边形</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >
  boolean IsFitPoly(Polygon pl) {
      for (int i = 0; i &lt;= pl.num; i++) {
          int k = dcmp(Math.abs(cross(o, pl.v[i], o, pl.v[i + 1]) / dist(pl.v[i], pl.v[i + 1])) - r);
          if (k &lt; 0)
              return false;
      }
      return true;
  }
</pre>

</li>
</ul>
<h1 id="String-字符串篇"><a href="#String-字符串篇" class="headerlink" title="String 字符串篇"></a>String 字符串篇</h1><h2 id="The-Knuth-Morris-Pratt-Algorithm-KMP算法"><a href="#The-Knuth-Morris-Pratt-Algorithm-KMP算法" class="headerlink" title="The Knuth-Morris-Pratt Algorithm KMP算法"></a>The Knuth-Morris-Pratt Algorithm KMP算法</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >class KMP {
    static int next[];

    static void getNext(String T) {
        next = new int[T.length() + 1];
        int j = 0, k = -1;
        next[0] = -1;
        while (j &lt; T.length())
            if (k == -1 || T.charAt(j) == T.charAt(k))
                next[++j] = ++k;
            else
                k = next[k];
    }

    static int Index(String S, String T) {
        int i = 0, j = 0;
        getNext(T);

        for (i = 0; i &lt; S.length() && j &lt; T.length(); i++) {
            while (j &gt; 0 && S.charAt(i) != T.charAt(j))
                j = next[j];
            if (S.charAt(i) == T.charAt(j))
                j++;
        }
        if (j == T.length())
            return i - T.length();
        else
            return -1;
    }

    static int Count(String S, String T) {
        int res = 0, j = 0;
        if (S.length() == 1 && T.length() == 1) {
            if (S.charAt(0) == T.charAt(0))
                return 1;
            else
                return 0;
        }
        getNext(T);
        for (int i = 0; i &lt; S.length(); i++) {
            while (j &gt; 0 && S.charAt(i) != T.charAt(j))
                j = next[j];
            if (S.charAt(i) == T.charAt(j))
                j++;
            if (j == T.length()) {
                res++;
                j = next[j];
            }
        }
        return res;
    }
}</pre>

<h2 id="Trie-字典树"><a href="#Trie-字典树" class="headerlink" title="Trie 字典树"></a>Trie 字典树</h2><p>存储仅含有小写英文字母的单词。<br><code>insert</code>执行插入操作，<code>query</code>返回（存在该单词的前提下）某单词与其他任一单词的最长公共前缀长度。</p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >class Trie {
    int cnt;
    Trie[] child;

    Trie() {
        child = new Trie[26];
        cnt = 0;
    }

    void insert(String s, int p) {
        int ch = s.charAt(p) - 'a';
        if (child[ch] == null)
            child[ch] = new Trie();
        child[ch].cnt++;
        if (p &lt; s.length() - 1)
            child[ch].insert(s, p + 1);
    }

    int query(String s, int p) {
        int ch = s.charAt(p) - 'a';
        if (child[ch].cnt &lt; 2 || p &gt;= s.length() - 1)
            return p;
        return child[ch].query(s, p + 1);
    }
}</pre> 


<h2 id="Aho-Corasick-automaton-AC自动机"><a href="#Aho-Corasick-automaton-AC自动机" class="headerlink" title="Aho-Corasick automaton AC自动机"></a>Aho-Corasick automaton AC自动机</h2><pre class="toolbar:2 wrap:true lang:java decode:true " >class AC {
    final int maxl = 500010, maxc = 26;
    final char fstc = 'a';
    int root, L;
    int[][] next;
    int[] fail, end;
    Queue&lt;Integer&gt; que = new LinkedList&lt;Integer&gt;();

    AC() {
        next = new int[maxl][maxc];
        fail = new int[maxl];
        end = new int[maxl];
        L = 0;
        root = newnode();
    }

    void clear() {
        Arrays.fill(fail, 0);
        Arrays.fill(end, 0);
        L = 0;
        root = newnode();
    }

    int newnode() {
        Arrays.fill(next[L], -1);
        end[L++] = 0;
        return L - 1;
    }

    void insert(String str) {
        int now = root;
        for (int i = 0; i &lt; str.length(); i++) {
            char ch = str.charAt(i);
            if (next[now][ch - fstc] == -1)
                next[now][ch - fstc] = newnode();
            now = next[now][ch - fstc];
        }
        end[now]++;
    }

    void build() {
        que.clear();
        fail[root] = root;
        for (int i = 0; i &lt; maxc; i++)
            if (next[root][i] == -1)
                next[root][i] = root;
            else {
                fail[next[root][i]] = root;
                que.add(next[root][i]);
            }
        while (!que.isEmpty()) {
            int now = que.poll();
            for (int i = 0; i &lt; maxc; i++)
                if (next[now][i] == -1)
                    next[now][i] = next[fail[now]][i];
                else {
                    fail[next[now][i]] = next[fail[now]][i];
                    que.add(next[now][i]);
                }
        }
    }

    int query(String str) {
        int now = root, res = 0;
        for (int i = 0; i &lt; str.length(); i++) {
            char ch = str.charAt(i);
            now = next[now][ch - fstc];
            int tmp = now;
            while (tmp != root) {
                res += end[tmp];
                // end[tmp] = 0;
                tmp = fail[tmp];
            }
        }
        return res;
    }
}</pre>

<h1 id="Network-Flowing-网络流篇"><a href="#Network-Flowing-网络流篇" class="headerlink" title="Network Flowing 网络流篇"></a>Network Flowing 网络流篇</h1><h2 id="Dinic-最大流-最小割"><a href="#Dinic-最大流-最小割" class="headerlink" title="Dinic 最大流/最小割"></a>Dinic 最大流/最小割</h2><p>需应用数据结构<code>弧</code>、<code>链式前向星</code>并用以下函数代替<code>addEdge</code>（可能需改动参数）：  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >void addedge(int u, int v, int w) {
        e[num].modify(v, w, 0, h[u]);
        h[u] = num++;
        e[num].modify(u, w, 0, h[v]);
        h[v] = num++;
}</pre> 



<pre class="toolbar:2 wrap:true lang:java decode:true " >class Dinic {
    final int inf = 0x3fffffff;

    private int maxm, maxn;
    public Graph g;
    private int[] dist;
    private boolean[] vis;
    private Queue&lt;Integer&gt; que;

    public Dinic(int _n, int _m) {
        maxn = _n;
        maxm = _m;
        que = new LinkedList&lt;Integer&gt;();
        dist = new int[maxn];
        vis = new boolean[maxn];
    }

    void init() {
        if (g == null)
            g = new Graph(maxn, maxm);
        g.init();
    }

    void init(Graph _g) {
        g = _g;
    }

    void addEdge(int u, int v, int w) {
        g.addedge(u, v, w);
    }

    boolean bfs(int s, int t) {
        que.clear();
        Arrays.fill(dist, -1);
        Arrays.fill(vis, false);
        dist[s] = 0;
        que.add(s);
        vis[s] = true;
        while (!que.isEmpty()) {
            int u = que.poll();
            for (int i = g.h[u]; i != -1; i = g.e[i].next) {
                Edge E = g.e[i];
                if (!vis[E.to] &amp;&amp; E.cap &gt; E.flow) {
                    dist[E.to] = dist[u] + 1;
                    if (E.to == t)
                        return true;
                    vis[E.to] = true;
                    que.add(E.to);
                }
            }
        }
        return false;
    }

    int dfs(int u, int delta, int target) {
        if (u == target || delta == 0)
            return delta;
        int flow = 0, f;
        for (int i = g.h[u]; i != -1; i = g.e[i].next) {
            Edge E = g.e[i];
            if (dist[E.to] == dist[u] + 1 &amp;&amp; (f = dfs(E.to, Math.min(delta, E.cap - E.flow), target)) &gt; 0) {
                g.e[i].flow += f;
                g.e[i ^ 1].flow -= f;
                flow += f;
                delta -= f;
                if (delta == 0)
                    break;
            }
        }
        return flow;
    }

    int maxflow(int source, int target) {
        int flow = 0;
        while (bfs(source, target)) {
            flow += dfs(source, inf, target);
        }
        return flow;
    }
};</pre> 


<h2 id="费用流"><a href="#费用流" class="headerlink" title="费用流"></a>费用流</h2><p>求解最小费用最大流。<br>若需要最大费用，可将各边费用取反，最终所得结果亦取反。<br>需应用数据结构<code>有向边</code>、<code>链式前向星</code>并用以下函数代替<code>addEdge</code>：  </p>
<pre class="toolbar:2 wrap:true lang:java decode:true " >void addEdge(int u, int v, int f, int w) {
        e[num].modify(v, f, w, h[u]);
        h[u] = num++;
        e[num].modify(u, 0, -w, h[v]);
        h[v] = num++;
}</pre> 

<pre class="toolbar:2 wrap:true lang:java decode:true " >class MinCostMaxFlow {
    final int inf = 0x3fffffff;
    int maxn, maxm;
    Graph g;
    spfa work;
    int num, src, sink;

    public MinCostMaxFlow(int _n, int _m) {
        maxn = _n;
        maxm = _m;
        work = new spfa(maxn, maxm);
    }

    void init(int _u, int _v) {
        src = _u;
        sink = _v;
        if (g == null)
            g = new Graph(maxn, maxm);
        g.init();
    }

    void init(Graph _g, int _u, int _v) {
        src = _u;
        sink = _v;
        g = _g;
    }

    void addEdge(int u, int v, int f, int w) {
        g.addEdge(u, v, f, w);
    }

    boolean findPath() {
        work.init(g, src);
        return work.get_res(sink) &lt; inf;
    }

    int solve() {
        int cost = 0, flow = 0;
        while (findPath()) {
            int u = sink;
            int delta = inf;
            while (u != src) {
                delta = Math.min(delta, g.e[work.pree[u]].f);
                u = work.prev[u];
            }
            u = sink;
            while (u != src) {
                g.e[work.pree[u]].f -= delta;
                g.e[work.pree[u] ^ 1].f += delta;
                u = work.prev[u];
            }
            cost += work.dis[sink] * delta;
            flow += delta;
        }
        return cost;
    }
}</pre> 

<p>#差分约束</p>
<p>差分约束系统（system of difference constraints），是求解关于一组变数的特殊不等式组之方法。<br>如果一个系统由n个变量和m个约束条件组成，其中每个约束条件形如$ x_j-x_i \le b_k(i,j∈[1,n],k∈[1,m]) $,则称其为差分约束系统(system of difference constraints)。亦即，差分约束系统是求解关于一组变量的特殊不等式组的方法。<br>求解差分约束系统，可以转化成图论的单源最短路径问题。观察$ x_j-x_i \le b_k $，会发现它类似最短路中的三角不等式$ d[v] \le d[u]+w[u,v] $，即$ d[v]-d[u] \le w[u,v] $。因此，以每个变数$ x_i $为结点，对于约束条件$ x_j-x_i \le b_k $，连接一条边(i,j)，边权为$ b_k $。再增加一个原点(s,s)与所有定点相连，边权均为0。对这个图以s为原点运行Bellman-ford算法（或SPFA算法），最终{d[i]}即为一组可行解。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>竞赛Java模板【dev-160504】</p><p><a href="http://yoursite.com/posts/41b311d1/">http://yoursite.com/posts/41b311d1/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Semprathlon / Simfae Dean</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>04/06/2016</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>03/13/2021</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>Afdian.net</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/561c3d53/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">BestCoder</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/a6ec002a/"><span class="level-item">hdu 4828 Grids Catalan数例题</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://ui-avatars.com/api/?name=Citru+Xonve&amp;background=0D8ABC&amp;color=fff&amp;size=128" alt="CitruXonve"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">CitruXonve</p><p class="is-size-6 is-block">Data Platform Engineer, Fullstack, UI/UX</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seattle, WA, US</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">277</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">138</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/CitruXonve" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/CitruXonve"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://www.facebook.com/AngelikaShyu/"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/Angelika_Shyu"><i class="fab fa-twitter"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">94</span></span></a><ul><li><a class="level is-mobile" href="/categories/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">94</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">22</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/"><span class="level-start"><span class="level-item">Computing</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Computing/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Computing-Cloud/"><span class="level-start"><span class="level-item">Computing - Cloud</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Computing-Cloud/Notes/"><span class="level-start"><span class="level-item">Notes</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Criticisms/"><span class="level-start"><span class="level-item">Criticisms</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Deployment/"><span class="level-start"><span class="level-item">Deployment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">25</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Developing/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">6</span></span></a><ul><li><a class="level is-mobile" href="/categories/Developing/Server/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Developing/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Development/"><span class="level-start"><span class="level-item">Development</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/English/"><span class="level-start"><span class="level-item">English</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Environment/"><span class="level-start"><span class="level-item">Environment</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Environment/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Graphic/"><span class="level-start"><span class="level-item">Graphic</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/"><span class="level-start"><span class="level-item">Developing</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul><li><a class="level is-mobile" href="/categories/Graphic/Developing/Game/"><span class="level-start"><span class="level-item">Game</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Hardware/"><span class="level-start"><span class="level-item">Hardware</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Industrial/"><span class="level-start"><span class="level-item">Industrial</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Network/"><span class="level-start"><span class="level-item">Network</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">34</span></span></a></li><li><a class="level is-mobile" href="/categories/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">21</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/"><span class="level-start"><span class="level-item">ACM-ICPC</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Programing/ACM-ICPC/Programing/"><span class="level-start"><span class="level-item">Programing</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="/categories/Server/"><span class="level-start"><span class="level-item">Server</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Web/About/"><span class="level-start"><span class="level-item">About</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ACM-ICPC/"><span class="tag">ACM-ICPC</span><span class="tag">14</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AC%E8%87%AA%E5%8A%A8%E6%9C%BA/"><span class="tag">AC自动机</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AWS/"><span class="tag">AWS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Adobe/"><span class="tag">Adobe</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Apache/"><span class="tag">Apache</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BFS/"><span class="tag">BFS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BIT/"><span class="tag">BIT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bestcoder/"><span class="tag">Bestcoder</span><span class="tag">23</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bitset/"><span class="tag">Bitset</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bootstrap/"><span class="tag">Bootstrap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CCPC/"><span class="tag">CCPC</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Catalan/"><span class="tag">Catalan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CentOS/"><span class="tag">CentOS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Clover/"><span class="tag">Clover</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Compiler/"><span class="tag">Compiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Contest/"><span class="tag">Contest</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cpp/"><span class="tag">Cpp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DFS/"><span class="tag">DFS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DNS/"><span class="tag">DNS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DSDT/"><span class="tag">DSDT</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Data-Analytics/"><span class="tag">Data Analytics</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Dinic/"><span class="tag">Dinic</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eclipse/"><span class="tag">Eclipse</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Expect/"><span class="tag">Expect</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Fibonacci/"><span class="tag">Fibonacci</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GLUT/"><span class="tag">GLUT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPT/"><span class="tag">GPT</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GUI/"><span class="tag">GUI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Gentoo/"><span class="tag">Gentoo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Geometry/"><span class="tag">Geometry</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Graduate/"><span class="tag">Graduate</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hash/"><span class="tag">Hash</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Heap/"><span class="tag">Heap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JNUOJ/"><span class="tag">JNUOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/K8s/"><span class="tag">K8s</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/KMP/"><span class="tag">KMP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Live-Archive/"><span class="tag">Live Archive</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MBR/"><span class="tag">MBR</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MS-DOS/"><span class="tag">MS=DOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mac/"><span class="tag">Mac</span><span class="tag">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Manhattan/"><span class="tag">Manhattan</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Multi-Uni/"><span class="tag">Multi-Uni</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Mobius%E5%8F%8D%E6%BC%94/"><span class="tag">Möbius反演</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NetworkFlow/"><span class="tag">NetworkFlow</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/NoSQL/"><span class="tag">NoSQL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OS/"><span class="tag">OS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenCV/"><span class="tag">OpenCV</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenGL/"><span class="tag">OpenGL</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RMQ/"><span class="tag">RMQ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Regional/"><span class="tag">Regional</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Repost/"><span class="tag">Repost</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ryzen/"><span class="tag">Ryzen</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQLserver/"><span class="tag">SQLserver</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSL/"><span class="tag">SSL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/System-Design/"><span class="tag">System Design</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOEFL/"><span class="tag">TOEFL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Tree/"><span class="tag">Tree</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Trie/"><span class="tag">Trie</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UEFI/"><span class="tag">UEFI</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/UX/"><span class="tag">UX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Unix/"><span class="tag">Unix</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Wordpress/"><span class="tag">Wordpress</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ZOJ/"><span class="tag">ZOJ</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ajax/"><span class="tag">ajax</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/asm/"><span class="tag">asm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/css/"><span class="tag">css</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cuda/"><span class="tag">cuda</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cudnn/"><span class="tag">cudnn</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/curl/"><span class="tag">curl</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/docker/"><span class="tag">docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/es6/"><span class="tag">es6</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/font/"><span class="tag">font</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ftp/"><span class="tag">ftp</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/gitlab/"><span class="tag">gitlab</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hardware/"><span class="tag">hardware</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hdu/"><span class="tag">hdu</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/html/"><span class="tag">html</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/https/"><span class="tag">https</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/iOS/"><span class="tag">iOS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/interview/"><span class="tag">interview</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/java/"><span class="tag">java</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/javascript/"><span class="tag">javascript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jdk/"><span class="tag">jdk</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jquery/"><span class="tag">jquery</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/js/"><span class="tag">js</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/json/"><span class="tag">json</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/kext/"><span class="tag">kext</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/node/"><span class="tag">node</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nodejs/"><span class="tag">nodejs</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/npm/"><span class="tag">npm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/php/"><span class="tag">php</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react/"><span class="tag">react</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/react-native/"><span class="tag">react native</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regex/"><span class="tag">regex</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/string/"><span class="tag">string</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E5%9B%BE/"><span class="tag">二分图</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"><span class="tag">二分查找</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%9A%E5%BC%88/"><span class="tag">博弈</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AE%B9%E6%96%A5%E5%8E%9F%E7%90%86/"><span class="tag">容斥原理</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"><span class="tag">并查集</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97/"><span class="tag">并行计算</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E7%A7%AF%E5%88%86/"><span class="tag">微积分</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%AB%E6%8F%8F%E7%BA%BF/"><span class="tag">扫描线</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%88%97/"><span class="tag">数列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E7%8B%AC/"><span class="tag">数独</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E8%AE%BA/"><span class="tag">数论</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A6%82%E7%8E%87/"><span class="tag">概率</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%A8%A1%E6%8B%9F/"><span class="tag">模拟</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AC%A7%E6%8B%89%E5%9B%9E%E8%B7%AF/"><span class="tag">欧拉回路</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%99%BE%E5%BA%A6%E4%B9%8B%E6%98%9F/"><span class="tag">百度之星</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9F%A5%E4%B9%8E/"><span class="tag">知乎</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A6%BB%E6%95%A3%E5%8C%96/"><span class="tag">离散化</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%A6%E7%91%9F%E5%A4%AB/"><span class="tag">约瑟夫</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"><span class="tag">线段树</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"><span class="tag">组合数学</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BD%91%E7%BB%9C%E8%B5%9B/"><span class="tag">网络赛</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85/"><span class="tag">背包</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"><span class="tag">背包问题</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD%E5%8D%9A%E6%96%87/"><span class="tag">转载博文</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%92%E5%BD%92/"><span class="tag">递归</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li><li><a class="level is-mobile" href="https://blog.skk.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Sukka</span></span><span class="level-right"><span class="level-item tag">blog.skk.moe</span></span></a></li><li><a class="level is-mobile" href="https://neko.ayaka.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Ayaka Neko</span></span><span class="level-right"><span class="level-item tag">neko.ayaka.moe</span></span></a></li><li><a class="level is-mobile" href="https://paperneko.moe/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">笈川伊織（紙喵）</span></span><span class="level-right"><span class="level-item tag">paperneko.moe</span></span></a></li><li><a class="level is-mobile" href="https://funactional.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Function</span></span><span class="level-right"><span class="level-item tag">funactional.github.io</span></span></a></li><li><a class="level is-mobile" href="http://www.kuangbin.net/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">kuangbin</span></span><span class="level-right"><span class="level-item tag">www.kuangbin.net</span></span></a></li><li><a class="level is-mobile" href="http://hzwer.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">hzwer</span></span><span class="level-right"><span class="level-item tag">hzwer.com</span></span></a></li><li><a class="level is-mobile" href="http://tsyao.tk/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">tsyao</span></span><span class="level-right"><span class="level-item tag">tsyao.tk</span></span></a></li><li><a class="level is-mobile" href="http://c.ejq.me/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">氢酱</span></span><span class="level-right"><span class="level-item tag">c.ejq.me</span></span></a></li><li><a class="level is-mobile" href="http://coderunion.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">CoderUnion</span></span><span class="level-right"><span class="level-item tag">coderunion.github.io</span></span></a></li><li><a class="level is-mobile" href="https://github.com/dangxuandev" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">当轩</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://zhuanlan.zhihu.com/simplyy" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">SimplyY</span></span><span class="level-right"><span class="level-item tag">zhuanlan.zhihu.com</span></span></a></li><li><a class="level is-mobile" href="http://blog.xen0n.name/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">xen0n</span></span><span class="level-right"><span class="level-item tag">blog.xen0n.name</span></span></a></li><li><a class="level is-mobile" href="https://github.com/NaturalL" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">NaturalL</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://blinkfox.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">闪烁之狐</span></span><span class="level-right"><span class="level-item tag">blinkfox.github.io</span></span></a></li><li><a class="level is-mobile" href="https://huaji8.top/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">幻想帖</span></span><span class="level-right"><span class="level-item tag">huaji8.top</span></span></a></li><li><a class="level is-mobile" href="https://otakism.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">宅談</span></span><span class="level-right"><span class="level-item tag">otakism.com</span></span></a></li><li><a class="level is-mobile" href="https://liyin.date/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">天空之间</span></span><span class="level-right"><span class="level-item tag">liyin.date</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="CitruXonve&#039;s another far end" height="28"></a><p class="is-size-7"><span>&copy; 2021 Semprathlon / Simfae Dean</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Icarus Theme on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>